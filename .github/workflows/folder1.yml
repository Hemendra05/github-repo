name: Test GitHub Actions For Folder1

on:
  push:
    branches: [ master ]
    paths:
      - folder1/**
  pull_request:
    branches: [ master ]
    paths:
      - folder1/**
  

jobs:
  run_linters:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Set up Python
        uses: actions/setup-python@v1
        with:
          python-version: 3.8

      - name: Install Python dependencies
        run: pip install black flake8

      - name: Run linters
        uses: wearerequired/lint-action@v1
        with:
          black: true
          flake8: true

  bandit_check:
  runs-on: ubuntu-latest
  steps:
    - uses: actions/checkout@v2

    - name: Python security check using Bandit
      uses: Joel-hanson/bandit-report-artifacts@V1

    # - name: Security check report artifacts
    #   uses: actions/upload-artifact@v1
    #   # if: failure()
    #   with:
    #     name: Security report
    #     path: output/security_report.txt

  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v1
        with:
          python-version: 3.8

      - run: python --version